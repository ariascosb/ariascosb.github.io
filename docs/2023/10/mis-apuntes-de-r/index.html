<!doctype html><html lang=es dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Mis apuntes de R | ariascosb</title>
<meta name=keywords content="R,ciencia de datos,Data science"><meta name=description content='Introducción En R todos las variables son objetos. Las asignaciones en R se hacen con <- Los comentarios se hacen con # x<-2 #Esto es un comentario Ctrl+Shift+C #comentarios de mas de una linea Directorio de trabajo actual: getwd() Cambiar directorio: setwd(&ldquo;C:\otro_directorio&rdquo;) # Ver archivos list.files() # Ver directorios list.dirs() Revisar archivos guardados en memoria ls() Instalar paquetes y librerías install.packages("readr") #Instalacion (Solo se hace una vez) library(readr) # Cargue de la libreria (Siempre que se vaya a usar) update.'><meta name=author content="Andres Riascos B."><link rel=canonical href=http://localhost:1313/2023/10/mis-apuntes-de-r/><link crossorigin=anonymous href=/assets/css/stylesheet.17286818278491604452094a103bf7cceccab7ad0b86d5cb99c33fcbd1ae8932.css integrity="sha256-FyhoGCeEkWBEUglKEDv3zOzKt60LhtXLmcM/y9GuiTI=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/favicon-32x32.png><link rel=apple-touch-icon href=http://localhost:1313/apple-touch-icon.png><link rel=mask-icon href=http://localhost:1313/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=es href=http://localhost:1313/2023/10/mis-apuntes-de-r/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-R34YZRH37C"></script><script>var doNotTrack=!1,dnt;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-R34YZRH37C")}</script><meta property="og:title" content="Mis apuntes de R"><meta property="og:description" content='Introducción En R todos las variables son objetos. Las asignaciones en R se hacen con <- Los comentarios se hacen con # x<-2 #Esto es un comentario Ctrl+Shift+C #comentarios de mas de una linea Directorio de trabajo actual: getwd() Cambiar directorio: setwd(&ldquo;C:\otro_directorio&rdquo;) # Ver archivos list.files() # Ver directorios list.dirs() Revisar archivos guardados en memoria ls() Instalar paquetes y librerías install.packages("readr") #Instalacion (Solo se hace una vez) library(readr) # Cargue de la libreria (Siempre que se vaya a usar) update.'><meta property="og:type" content="article"><meta property="og:url" content="http://localhost:1313/2023/10/mis-apuntes-de-r/"><meta property="og:image" content="http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-10-07T11:07:37-05:00"><meta property="article:modified_time" content="2023-10-07T11:07:37-05:00"><meta property="og:site_name" content="ariascosb"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Mis apuntes de R"><meta name=twitter:description content='Introducción En R todos las variables son objetos. Las asignaciones en R se hacen con <- Los comentarios se hacen con # x<-2 #Esto es un comentario Ctrl+Shift+C #comentarios de mas de una linea Directorio de trabajo actual: getwd() Cambiar directorio: setwd(&ldquo;C:\otro_directorio&rdquo;) # Ver archivos list.files() # Ver directorios list.dirs() Revisar archivos guardados en memoria ls() Instalar paquetes y librerías install.packages("readr") #Instalacion (Solo se hace una vez) library(readr) # Cargue de la libreria (Siempre que se vaya a usar) update.'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"Mis apuntes de R","item":"http://localhost:1313/2023/10/mis-apuntes-de-r/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Mis apuntes de R","name":"Mis apuntes de R","description":"Introducción En R todos las variables son objetos. Las asignaciones en R se hacen con \u0026lt;- Los comentarios se hacen con # x\u0026lt;-2 #Esto es un comentario Ctrl+Shift+C #comentarios de mas de una linea Directorio de trabajo actual: getwd() Cambiar directorio: setwd(\u0026ldquo;C:\\otro_directorio\u0026rdquo;) # Ver archivos list.files() # Ver directorios list.dirs() Revisar archivos guardados en memoria ls() Instalar paquetes y librerías install.packages(\u0026#34;readr\u0026#34;) #Instalacion (Solo se hace una vez) library(readr) # Cargue de la libreria (Siempre que se vaya a usar) update.","keywords":["R","ciencia de datos","Data science"],"articleBody":"Introducción En R todos las variables son objetos. Las asignaciones en R se hacen con \u003c- Los comentarios se hacen con # x\u003c-2 #Esto es un comentario Ctrl+Shift+C #comentarios de mas de una linea Directorio de trabajo actual: getwd() Cambiar directorio: setwd(“C:\\otro_directorio”) # Ver archivos list.files() # Ver directorios list.dirs() Revisar archivos guardados en memoria ls() Instalar paquetes y librerías install.packages(\"readr\") #Instalacion (Solo se hace una vez) library(readr) # Cargue de la libreria (Siempre que se vaya a usar) update.packages() #Actualizar paquetes R #3.6.1 Factores: Agrupación especial de datos. Ejemplo: podemos tener dos tipos de valores en la variable sexo: 1 y 2. A las cuales le podemos asignar unas etiquetas o niveles. Hombres (1) y Mujeres (2). Esto es muy útil para el tratamiento de datos. OJO: los factores siempre quedan guardados como numeros con etiquetas en texto En R, usamos NA para representar datos perdidos, mientras que NULL representa la ausencia de datos. La diferencia entre las dos es que un dato NULL aparece sólo cuando R intenta recuperar un dato y no encuentra nada, mientras que NA es usado para representar explícitamente datos perdidos, omitidos o que por alguna razón son faltantes. NA además puede aparecer como resultado de una operación realizada, pero no tuvo éxito en su ejecución. A diferencia de la mayoría de los lenguajes de programación, los índices en R empiezan en 1, no en 0. Funciones basicas #Limpiar datos rm(list=ls()) #Promedio mean() #Desviacion estandar sd() #Coeficiente de correlacion cor() #Resumen estadistico summary() #Mirar los primeros 10 datos head() #Leer datos CSV paquete base bcancer \u003c- read.csv(\"breast-cancer-wis.csv\") bcancer \u003c- read.table(file = \"breast-cancer-wis.csv\", header = TRUE, sep = \",\", col.names = nombres) #Exportar datos paquete base write.csv(x = iris, file = \"iris.csv\", row.names = FALSE) #OJO NOTA: Se recomiendas usar data table para leer y escribir dado que es mas #rapido que el paquete base #Uso formato .Rds saveRDS(object = mi_lista, file = \"mi_lista.rds\") mi_lista_importado \u003c- readRDS(file = \"mi_lista.rds\") #Usar un script R desde otro archivo source(\"MyScript.R\") Directorios de trabajo\ngetwd() #Directorio actual de trabajo setwd(\"C:\\otro_directorio\") #Cambiar el directorio Organizar codigo. Rstudio automaticamente organiza nuestro codigo para que sea mas legible\nContorl +I Control+shift (Mayus) +A Verificar si las librerias estan y instalarlas\n#Verificar librerias list.of.packages \u003c- c(\"shiny\",\"shinydashboard\",\"ggplot2\",\"data.table\",\"lubridate\") new.packages \u003c- list.of.packages[!(list.of.packages %in% installed.packages()[,\"Package\"])] if(length(new.packages)) install.packages(new.packages) Acomodar ceros a la derecha y a la izquierda\nSimula la funcion right de excel right = function(text, num_char) { substr(text, nchar(text) - (num_char-1), nchar(text)) } cron[,cantidad.requerida.mix:=round((sum.mix/fc.m.kg)*1000,4),] #Numeros a la derecha cron[,cantidad.requerida.mix:=sprintf(\"%f\",cantidad.requerida.mix),] #Numeros a la izquierda cron[,cantidad.requerida.mix:=paste0(\"000000000\",cantidad.requerida.mix)] cron[,cantidad.requerida.mix:=right(cantidad.requerida.mix,16)] Tipos de datos Conversión (Coercion). Cuando estas funciones tienen éxito en la coerción, nos devuelven datos del tipo pedido. Si fallan, obtenemos NA como resultado. as.integer()\t#Conversion a Entero as.numeric()\t#Conversion a decimal as.character()\t#Conversion a Cadena de texto as.factor()\t#Conversion a Factor as.logical()\t#Conversion a Lógico as.null()\t#Conversion a NULL #La conversion se da en el siguiente sentido y nunca en el sentido contrario lógico -\u003e entero -\u003e numérico -\u003e cadena de texto (logical -\u003e integer -\u003e numeric -\u003e character) Verficar el tipo de dato str(a) #Me indica que tipo de dato es class(a) #Me indica que tipo de dato es is.integer()\t#Verificar si es Entero is.numeric()\t#Verificar si es decimal is.character()\t#Verificar si es Cadena de texto is.factor()\t#Verificar si es Factor is.logical()\t#Verificar si es Lógico is.null()\t#Verificar si es NULL Operadores Relacionales Operador Comparación \u003c menor que \u003c= menor que \u003e mayor que \u003e= mayor que == igual que != No es igual que Lógicos Operador Comparación x | y x O y es verdadero x \u0026 y x Y y es verdadero !x x no es verdadero (negación) Si se comparan dos cadenas de texto con \u003c o \u003e se usa como criterio el orden alfabético\nEstructuras de datos Vectores Un vector es una colección de uno o más datos del mismo tipo.\nvector=c(1,2,3) #La c indica concatenar vector + 2 ===\u003e 3,4,5 vector * 2 ===\u003e 2,4,6 vector[1] #Seleccionar el elemento 1 del vector vector[c(1,3)] #Seleccionar el elemento 1 y 3 del vector vector[1:2] #Seleccionar los elementos del 1 al 2 Matrices y arrays Son vectores multidimensionales. Al igual que un vector, únicamente pueden contener datos de un sólo tipo, pero además de largo, tienen más dimensiones. Cuentan con dos dimensiones, un “largo”\" y un “alto”. Las matrices son, por lo tanto, una estructura con forma rectangular, con renglones y columnas.\nmatrix(1:12, nrow = 3, ncol = 4) #Crear matrices con 3 filas y 4 columnas #Se van organizando de arriba hacia abajo por columnas [,1] [,2] [,3] [,4] [1,] 1 4 7 10 [2,] 2 5 8 11 [3,] 3 6 9 12 cbind() #para unir vectores, usando cada uno como una columna. rbind() #para unir vectores, usando cada uno como un renglón. dim() # para la dimension de una matriz t(matriz) # Trasponer una matriz Se puede sumar, multiplicar y elevar por un escalar una matriz. Esto afecta todos los valores que existen en ella matriz[filas, columnas] #Seleccion de datos Las matrices siempre serán rectangulares. Cuando intentamos acomodar un número diferente de elementos y celdas, ocurren dos cosas diferentes. Si el número de elementos es mayor al número de celdas, se acomodarán todos los datos que sean posibles y los demás se omitirán. Si, por el contrario, el número de celdas es mayor que el número de elementos, estos se repetirán.\nDataframes Los data frames son estructuras de datos que pueden contener datos de diferentes tipos. los renglones en un data frame representan casos, individuos u observaciones, mientras que las columnas representan atributos, rasgos o variables. Un data frame está compuesto por vectores.\nmi_df \u003c- data.frame( \"entero\" = 1:4, \"factor\" = c(\"a\", \"b\", \"c\", \"d\"), \"numero\" = c(1.2, 3.4, 4.5, 5.6), \"cadena\" = as.character(c(\"a\", \"b\", \"c\", \"d\")) ) dim(mi_df) #Conocer dimensiones dataframe names(mi_df) #Conocer el nombre de las columnas dataFrame as.data.frame() #Convertir a data frame data.frame[indice_filas, indice_columnas] #Seleccion de datos data.frame[\"name_column\"] #Seleccion de datos data.frame$name_column #Seleccion de datos mi_df$c(\"nombre\", \"edad\") #Seleccionar datos. iris[iris$Sepal.Length \u003e 7.5, ] #Seleccion con validacion #Otra forma de seleccion #Data, condicion, seleccion de columnas subset(x = iris, subset = Sepal.Length \u003e 7.5, select = c(\"Sepal.Length\", \"Species\")) Listas Las listas, al igual que los vectores, son estructuras de datos unidimensionales, sólo tienen largo, pero a diferencia de los vectores cada uno de sus elementos puede ser de diferente tipo o incluso de diferente clase. Al igual que con un data frame, tenemos la opción de poner nombre a cada elemento de una lista.\nmi_matriz \u003c- matrix(1:4, nrow = 2) mi_df \u003c- data.frame(\"num\" = 1:3, \"let\" = c(\"a\", \"b\", \"c\")) mi_lista \u003c- list(\"un_vector\" = mi_vector, \"una_matriz\" = mi_matriz, \"un_df\" = mi_df) mi_lista Coerción Función Coerciona a Coersionar exitosamente a as.vector() vector matrices as.matrix() matrices vectores, data frames as.data.frame() data frame vectores, matrices as.list() lista vectores, matrices, data frames Funciones #Definicion nombre \u003c- function(argumento1,argumento2,etc) { operaciones } #Ejemplo area_cuad \u003c- function(lado1, lado2) { lado1 * lado2 } #Forma de llamado 1 area_cuad(lado1 = 4, lado2 = 6) #Forma de llamado 2 area_cuad(4,6) Estructuras de control If-Else if(condición) { operaciones_si_la_condición_es_TRUE } else { operaciones_si_la_condición_es_FALSE } #Ejemplo if(media \u003e= 6) { print(paste0(texto, \"aprobado\")) } else { print(paste0(texto, \"reprobado\")) } #Otra forma ifelse(vector, valor_si_TRUE, valor_si_FALSE) #Ejemplo ifelse(num %% 2 == 0 \u0026 num %% 3, \"Divisible\", \"No divisible\") For Este ciclo no es el mas recomendado, existe otras alternativas en R mas potenciales para ejecutar estas tareas.\nfor(elemento in objeto) { operacion_con_elemento } #Ejemplo dado \u003c- 1:6 for(cara in dado) { dado ^ 2 } For para añadir filas a una data table\nv\u003c-colores$cod.ext.2 n\u003c-1 list\u003c-as.list(NULL) for (i in v){ a\u003c-conector a$ext.2\u003c-paste0(i) list[[n]]\u003c-a conector1\u003c-rbindlist(list) n\u003c-n+1 } Para imprimir imagenes de un ggplot\ndata_g\u003c-data[maquina==i,] p\u003c-ggplot(data=data_g, aes(x=mes, y=metros, fill=metodo)) + geom_bar(stat=\"identity\", position=position_dodge())+ geom_text(aes(label=metros), vjust=1.6, color=\"white\", position = position_dodge(0.9), size=2.8)+ scale_fill_brewer(palette=\"Paired\")+ theme_minimal()+ labs(title=paste0(i))+theme(plot.title = element_text(hjust = 0.5)) ggsave(paste0(i,\".png\")) print(p) While while(condicion) { operaciones } #Ejemplo while(i \u003c 10) { print(\"Presiona ESC para detener\") } Next y Break #Next (Salta parte de un cilo) for(i in 1:4) { if(i == 3) { next } print(i) } #Break (Rompe un ciclo) for(i in 1:10) { if(i == 3) { break } print(i) } Repeat repeat { operaciones un_break_para_detener } #Ejemplo repeat{ valor \u003c- valor + 1 if(valor == 5) { break } } Si no incluimos un break, el bucle se repetirá indefinidamente y sólo lo podremos detener pulsando la tecla ESC, así que hay que tener cuidado al usar esta estructura de control\nData table Librería mas veloz y flexible para el manejo de tablas en R.\nSiempre que tengas datos para analizar en computador, trata de tenerlos en formato largo, es mucho más fácil de trabajar con ellos. Para convertir una tabla ancha en una larga, usa data.table::melt.\nSiempre que tengas que generar datos para interpretación por humanos, considera ponerlos en formato ancho, son más fáciles de entender. Podes lograrlo con data.table::dcast.\n#Actualizar todos los paquetes update.packages(ask = FALSE) #Instalar paquete install.packages(\"data.table\") install.packages(\"tidyverse\", dependencies = TRUE) #Cargar libreria library(data.table) #Crear data table mi_df \u003c- data.table( \"entero\" = 1:4, \"factor\" = c(\"a\", \"b\", \"c\", \"d\"), \"numero\" = c(1.2, 3.4, 4.5, 5.6), \"cadena\" = as.character(c(\"a\", \"b\", \"c\", \"d\")) ) #leer datos data \u003c- fread(\"data/item_julio.csv\") #Se recomienda usa r col class para idnicar que tipo de datos son y ahorrar tiempo de carga tipo\u003c-c(\"character\",\"character\",\"character\")#Permite cargar mas rapido y evitar errores conector \u003c- fread(\"data/conector_ref.csv\", colClasses = tipo) #Escribir datos fwrite(x =conector, file = \"exit/testing.csv\", sep = \",\", dec = \".\") #eliminar duplicados unique(Item) #Estructura data table[i,j,by=k] #i sirve para filtrar irisDT[Species == \"setosa\", ] irisDT[Petal.Width \u003e 2, ] irisDT[Petal.Width \u003c= 0.3 \u0026 Sepal.Length \u003e 5,] irisDT[c(1, 4),] irisDT[c(\"color\",\"altura\"),] #La j sirve para operar (¿que queremos hacer con los datos?) irisDT[Species == \"versicolor\", mean(Sepal.Length)] irisDT[Species == \"versicolor\", .(promedio = mean(Sepal.Length), mediana = median(Sepal.Length))] #varias operaciones al mismo tiempo irisDT[Species == \"versicolor\", hist(Sepal.Length)] #La k sirve para agrupar irisDT[ , mean(Sepal.Length), by = Species] irisDT[Sepal.Width \u003e= 3, mean(Sepal.Length), by = Species] irisDT[, mean(Sepal.Length), by = .(Species, petaloPequeno = Petal.Width \u003c .3)] #Contar el número de registros. .N #Cambiar nombres a las variables names (DatosTdoPeso) = c(\"Tratamiento\", \"Variedad\", \"Parcela\", \"Peso46a60\") #Cambiar NA por otros valores my_data[is.na(my_data)] \u003c- 0 #Cambiar solo un nombre de una columna names (DatosTdoPeso)[3] = \"Parcela\" #Cambiar el orden de las columnas, se recomienda hacerlo por nombres DatosTdoPeso1 = DatosTdoPeso [ , c(3,2,1,7,6,5,4)] DatosTdoPeso1 = DatosTdoPeso [ , c(\"name\",\"fecha\",\"key\")] #cambiar el orden del eje x en ggplot2 equiposDeslizadores1$month \u003c- factor(equiposDeslizadores1$month,levels = c(0,1,2,3,4,5,6,7,8,9,10,11,12,13),labels = c(\"YTD18\", \"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"YTD19\")) #Funciones especiales #Entre irisDT[Sepal.Length %between% c(5.1, 5.2)] #Como irisDT[Species %like% \"v.*\",] #Tabla ancha a larga dfLarga_2 \u003c- melt(dfAncha, id.vars = \"item\", #id=datos que no vamos a cambiar variable.name = \"region\", #var.name= nombre encabezados a poner largos value.name = \"valor\", #value= valores de los var.name variable.factor = FALSE) #Tabla larga a ancha dfAncha_2 \u003c- dcast(dfLarga, item ~ region, # x ~ y (filas ~ columnas) value.var = \"valor\") #Contar el numero de elementos por filas. Se uso en lista de materiales col.base\u003c-col.base[ , index := 1:.N , by = c(\"cod.ext.2.col\") ] #Convierte , en . epoxica$produccion.und\u003c-gsub(\",\", \".\", epoxica$produccion.und) #Nueva forma buscarv nominalesEnsamble \u003c- fread(\"files/nominales/nominales_ensamble.csv\") setkeyv(ensamble, c(\"maquina\", \"proceso\")) setkeyv(nominalesEnsamble, c(\"maquina\", \"proceso\")) ensamble[nominalesEnsamble, nominal := nominal] Excel library(\"writexl\") library(\"readxl\") data\u003c- read_excel(\"data/data.xlsx\") data\u003c-as.data.table(data) write_xlsx(comision, \"exits/comisiones.xlsx\") ","wordCount":"1843","inLanguage":"es","image":"http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2023-10-07T11:07:37-05:00","dateModified":"2023-10-07T11:07:37-05:00","author":{"@type":"Person","name":"Andres Riascos B."},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/2023/10/mis-apuntes-de-r/"},"publisher":{"@type":"Organization","name":"ariascosb","logo":{"@type":"ImageObject","url":"http://localhost:1313/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Inicio (Alt + H)">Inicio</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/tags/ title=Tags><span>Tags</span></a></li><li><a href=http://localhost:1313/archivo/ title=Archivo><span>Archivo</span></a></li><li><a href=http://localhost:1313/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=http://localhost:1313/categories/ title=Categorias><span>Categorias</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Inicio</a>&nbsp;»&nbsp;<a href=http://localhost:1313/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Mis apuntes de R</h1><div class=post-meta><span title='2023-10-07 11:07:37 -0500 -05'>octubre 7, 2023</span>&nbsp;·&nbsp;9 min&nbsp;·&nbsp;Andres Riascos B.</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Tabla de Contenidos</span></summary><div class=inner><ul><li><a href=#introducci%c3%b3n aria-label=Introducción>Introducción</a></li><li><a href=#tipos-de-datos aria-label="Tipos de datos">Tipos de datos</a></li><li><a href=#operadores aria-label=Operadores>Operadores</a><ul><li><a href=#relacionales aria-label=Relacionales>Relacionales</a></li><li><a href=#l%c3%b3gicos aria-label=Lógicos>Lógicos</a></li></ul></li><li><a href=#estructuras-de-datos aria-label="Estructuras de datos">Estructuras de datos</a><ul><li><a href=#vectores aria-label=Vectores>Vectores</a></li><li><a href=#matrices-y-arrays aria-label="Matrices y arrays">Matrices y arrays</a></li><li><a href=#dataframes aria-label=Dataframes>Dataframes</a></li><li><a href=#listas aria-label=Listas>Listas</a></li><li><a href=#coerci%c3%b3n aria-label=Coerción>Coerción</a></li></ul></li><li><a href=#funciones aria-label=Funciones>Funciones</a></li><li><a href=#estructuras-de-control aria-label="Estructuras de control">Estructuras de control</a><ul><li><a href=#if-else aria-label=If-Else>If-Else</a></li><li><a href=#for aria-label=For>For</a></li><li><a href=#while aria-label=While>While</a></li><li><a href=#next-y-break aria-label="Next y Break">Next y Break</a></li><li><a href=#repeat aria-label=Repeat>Repeat</a></li></ul></li><li><a href=#data-table aria-label="Data table">Data table</a></li><li><a href=#excel aria-label=Excel>Excel</a></li></ul></div></details></div><div class=post-content><h1 id=introducción>Introducción<a hidden class=anchor aria-hidden=true href=#introducción>#</a></h1><ul><li>En R todos las variables son objetos.</li><li>Las asignaciones en R se hacen con &lt;-</li><li>Los comentarios se hacen con #</li></ul><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span>x<span style=color:#81a1c1>&lt;-</span><span style=color:#b48ead>2</span> <span style=color:#616e87;font-style:italic>#Esto es un comentario</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Ctrl<span style=color:#81a1c1>+</span>Shift<span style=color:#81a1c1>+</span>C <span style=color:#616e87;font-style:italic>#comentarios de mas de una linea</span>
</span></span></code></pre></div><ul><li>Directorio de trabajo actual: getwd()</li><li>Cambiar directorio: setwd(&ldquo;C:\otro_directorio&rdquo;)</li></ul><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span># Ver archivos
</span></span><span style=display:flex><span>list.files()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># Ver directorios
</span></span><span style=display:flex><span>list.dirs()
</span></span></code></pre></div><ul><li>Revisar archivos guardados en memoria ls()</li><li>Instalar paquetes y librerías</li></ul><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span><span style=color:#88c0d0>install.packages</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;readr&#34;</span><span style=color:#eceff4>)</span> <span style=color:#616e87;font-style:italic>#Instalacion (Solo se hace una vez)</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>library</span><span style=color:#eceff4>(</span>readr<span style=color:#eceff4>)</span> <span style=color:#616e87;font-style:italic># Cargue de la libreria (Siempre que se vaya a usar)</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>update.packages</span><span style=color:#eceff4>()</span> <span style=color:#616e87;font-style:italic>#Actualizar paquetes R</span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#3.6.1 </span>
</span></span></code></pre></div><ul><li>Factores: Agrupación especial de datos. Ejemplo: podemos tener dos tipos de valores en la variable sexo: 1 y 2. A las cuales le podemos asignar unas etiquetas o niveles. Hombres (1) y Mujeres (2). Esto es muy útil para el tratamiento de datos. OJO: los factores siempre quedan guardados como numeros con etiquetas en texto</li><li>En R, usamos NA para representar datos perdidos, mientras que NULL representa la ausencia de datos. La diferencia entre las dos es que un dato NULL aparece sólo cuando R intenta recuperar un dato y no encuentra nada, mientras que NA es usado para representar explícitamente datos perdidos, omitidos o que por alguna razón son faltantes. NA además puede aparecer como resultado de una operación realizada, pero no tuvo éxito en su ejecución.</li><li>A diferencia de la mayoría de los lenguajes de programación, los índices en R empiezan en 1, no en 0.</li><li>Funciones basicas</li></ul><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Limpiar datos</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>rm</span><span style=color:#eceff4>(</span>list<span style=color:#81a1c1>=</span><span style=color:#88c0d0>ls</span><span style=color:#eceff4>())</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Promedio</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>mean</span><span style=color:#eceff4>()</span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Desviacion estandar</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>sd</span><span style=color:#eceff4>()</span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Coeficiente de correlacion</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>cor</span><span style=color:#eceff4>()</span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Resumen estadistico</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>summary</span><span style=color:#eceff4>()</span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Mirar los primeros 10 datos</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>head</span><span style=color:#eceff4>()</span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Leer datos CSV paquete base</span>
</span></span><span style=display:flex><span>bcancer <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>read.csv</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;breast-cancer-wis.csv&#34;</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>bcancer <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>read.table</span><span style=color:#eceff4>(</span>file <span style=color:#81a1c1>=</span> <span style=color:#a3be8c>&#34;breast-cancer-wis.csv&#34;</span><span style=color:#eceff4>,</span> header <span style=color:#81a1c1>=</span> <span style=color:#81a1c1;font-weight:700>TRUE</span><span style=color:#eceff4>,</span> sep <span style=color:#81a1c1>=</span> <span style=color:#a3be8c>&#34;,&#34;</span><span style=color:#eceff4>,</span>
</span></span><span style=display:flex><span>                      col.names <span style=color:#81a1c1>=</span> nombres<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Exportar datos paquete base</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>write.csv</span><span style=color:#eceff4>(</span>x <span style=color:#81a1c1>=</span> iris<span style=color:#eceff4>,</span> file <span style=color:#81a1c1>=</span> <span style=color:#a3be8c>&#34;iris.csv&#34;</span><span style=color:#eceff4>,</span> row.names <span style=color:#81a1c1>=</span> <span style=color:#81a1c1;font-weight:700>FALSE</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#OJO NOTA: Se recomiendas usar data table para leer y escribir dado que es mas </span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#rapido que el paquete base</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Uso formato .Rds</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>saveRDS</span><span style=color:#eceff4>(</span>object <span style=color:#81a1c1>=</span> mi_lista<span style=color:#eceff4>,</span> file <span style=color:#81a1c1>=</span> <span style=color:#a3be8c>&#34;mi_lista.rds&#34;</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>mi_lista_importado <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>readRDS</span><span style=color:#eceff4>(</span>file <span style=color:#81a1c1>=</span> <span style=color:#a3be8c>&#34;mi_lista.rds&#34;</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Usar un script R desde otro archivo</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>source</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;MyScript.R&#34;</span><span style=color:#eceff4>)</span>
</span></span></code></pre></div><p>Directorios de trabajo</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span><span style=color:#88c0d0>getwd</span><span style=color:#eceff4>()</span> <span style=color:#616e87;font-style:italic>#Directorio actual de trabajo</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>setwd</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;C:\otro_directorio&#34;</span><span style=color:#eceff4>)</span> <span style=color:#616e87;font-style:italic>#Cambiar el directorio</span>
</span></span></code></pre></div><p>Organizar codigo. Rstudio automaticamente organiza nuestro codigo para que sea mas legible</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span>Contorl <span style=color:#81a1c1>+</span>I 
</span></span><span style=display:flex><span>Control<span style=color:#81a1c1>+</span><span style=color:#88c0d0>shift </span><span style=color:#eceff4>(</span>Mayus<span style=color:#eceff4>)</span> <span style=color:#81a1c1>+</span>A
</span></span></code></pre></div><p>Verificar si las librerias estan y instalarlas</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Verificar librerias</span>
</span></span><span style=display:flex><span>list.of.packages <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>c</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;shiny&#34;</span><span style=color:#eceff4>,</span><span style=color:#a3be8c>&#34;shinydashboard&#34;</span><span style=color:#eceff4>,</span><span style=color:#a3be8c>&#34;ggplot2&#34;</span><span style=color:#eceff4>,</span><span style=color:#a3be8c>&#34;data.table&#34;</span><span style=color:#eceff4>,</span><span style=color:#a3be8c>&#34;lubridate&#34;</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>new.packages <span style=color:#81a1c1>&lt;-</span> list.of.packages[<span style=color:#81a1c1>!</span><span style=color:#eceff4>(</span>list.of.packages <span style=color:#81a1c1>%in%</span> <span style=color:#88c0d0>installed.packages</span><span style=color:#eceff4>()</span>[<span style=color:#eceff4>,</span><span style=color:#a3be8c>&#34;Package&#34;</span>]<span style=color:#eceff4>)</span>]
</span></span><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>if</span><span style=color:#eceff4>(</span><span style=color:#88c0d0>length</span><span style=color:#eceff4>(</span>new.packages<span style=color:#eceff4>))</span> <span style=color:#88c0d0>install.packages</span><span style=color:#eceff4>(</span>new.packages<span style=color:#eceff4>)</span>
</span></span></code></pre></div><p>Acomodar ceros a la derecha y a la izquierda</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span>Simula la funcion right de excel
</span></span><span style=display:flex><span>right <span style=color:#81a1c1>=</span> <span style=color:#81a1c1;font-weight:700>function</span><span style=color:#eceff4>(</span>text<span style=color:#eceff4>,</span> num_char<span style=color:#eceff4>)</span> <span style=color:#eceff4>{</span>
</span></span><span style=display:flex><span>  <span style=color:#88c0d0>substr</span><span style=color:#eceff4>(</span>text<span style=color:#eceff4>,</span> <span style=color:#88c0d0>nchar</span><span style=color:#eceff4>(</span>text<span style=color:#eceff4>)</span> <span style=color:#81a1c1>-</span> <span style=color:#eceff4>(</span>num_char<span style=color:#b48ead>-1</span><span style=color:#eceff4>),</span> <span style=color:#88c0d0>nchar</span><span style=color:#eceff4>(</span>text<span style=color:#eceff4>))</span>
</span></span><span style=display:flex><span><span style=color:#eceff4>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>cron[<span style=color:#eceff4>,</span>cantidad.requerida.mix<span style=color:#81a1c1>:=</span><span style=color:#88c0d0>round</span><span style=color:#eceff4>((</span>sum.mix<span style=color:#81a1c1>/</span>fc.m.kg<span style=color:#eceff4>)</span><span style=color:#81a1c1>*</span><span style=color:#b48ead>1000</span><span style=color:#eceff4>,</span><span style=color:#b48ead>4</span><span style=color:#eceff4>),</span>]
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Numeros a la derecha</span>
</span></span><span style=display:flex><span>cron[<span style=color:#eceff4>,</span>cantidad.requerida.mix<span style=color:#81a1c1>:=</span><span style=color:#88c0d0>sprintf</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;%f&#34;</span><span style=color:#eceff4>,</span>cantidad.requerida.mix<span style=color:#eceff4>),</span>]
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Numeros a la izquierda</span>
</span></span><span style=display:flex><span>cron[<span style=color:#eceff4>,</span>cantidad.requerida.mix<span style=color:#81a1c1>:=</span><span style=color:#88c0d0>paste0</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;000000000&#34;</span><span style=color:#eceff4>,</span>cantidad.requerida.mix<span style=color:#eceff4>)</span>]
</span></span><span style=display:flex><span>cron[<span style=color:#eceff4>,</span>cantidad.requerida.mix<span style=color:#81a1c1>:=</span><span style=color:#88c0d0>right</span><span style=color:#eceff4>(</span>cantidad.requerida.mix<span style=color:#eceff4>,</span><span style=color:#b48ead>16</span><span style=color:#eceff4>)</span>]
</span></span></code></pre></div><h1 id=tipos-de-datos>Tipos de datos<a hidden class=anchor aria-hidden=true href=#tipos-de-datos>#</a></h1><ul><li>Conversión (Coercion). Cuando estas funciones tienen éxito en la coerción, nos devuelven datos del tipo pedido. Si fallan, obtenemos NA como resultado.</li></ul><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span><span style=color:#88c0d0>as.integer</span><span style=color:#eceff4>()</span>	<span style=color:#616e87;font-style:italic>#Conversion a Entero</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>as.numeric</span><span style=color:#eceff4>()</span>	<span style=color:#616e87;font-style:italic>#Conversion a decimal</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>as.character</span><span style=color:#eceff4>()</span>	<span style=color:#616e87;font-style:italic>#Conversion a Cadena de texto</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>as.factor</span><span style=color:#eceff4>()</span>	<span style=color:#616e87;font-style:italic>#Conversion a Factor </span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>as.logical</span><span style=color:#eceff4>()</span>	<span style=color:#616e87;font-style:italic>#Conversion a Lógico</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>as.null</span><span style=color:#eceff4>()</span>	<span style=color:#616e87;font-style:italic>#Conversion a NULL</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#La conversion se da en el siguiente sentido y nunca en el sentido contrario</span>
</span></span><span style=display:flex><span>lógico <span style=color:#81a1c1>-&gt;</span> entero <span style=color:#81a1c1>-&gt;</span> numérico <span style=color:#81a1c1>-&gt;</span> cadena de <span style=color:#88c0d0>texto 
</span></span></span><span style=display:flex><span><span style=color:#88c0d0></span><span style=color:#eceff4>(</span>logical <span style=color:#81a1c1>-&gt;</span> integer <span style=color:#81a1c1>-&gt;</span> numeric <span style=color:#81a1c1>-&gt;</span> character<span style=color:#eceff4>)</span>
</span></span></code></pre></div><ul><li>Verficar el tipo de dato</li></ul><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span><span style=color:#88c0d0>str</span><span style=color:#eceff4>(</span>a<span style=color:#eceff4>)</span> <span style=color:#616e87;font-style:italic>#Me indica que tipo de dato es</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>class</span><span style=color:#eceff4>(</span>a<span style=color:#eceff4>)</span> <span style=color:#616e87;font-style:italic>#Me indica que tipo de dato es</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>is.integer</span><span style=color:#eceff4>()</span>	<span style=color:#616e87;font-style:italic>#Verificar si es Entero</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>is.numeric</span><span style=color:#eceff4>()</span>	<span style=color:#616e87;font-style:italic>#Verificar si es decimal</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>is.character</span><span style=color:#eceff4>()</span>	<span style=color:#616e87;font-style:italic>#Verificar si es Cadena de texto</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>is.factor</span><span style=color:#eceff4>()</span>	<span style=color:#616e87;font-style:italic>#Verificar si es Factor </span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>is.logical</span><span style=color:#eceff4>()</span>	<span style=color:#616e87;font-style:italic>#Verificar si es Lógico</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>is.null</span><span style=color:#eceff4>()</span>	<span style=color:#616e87;font-style:italic>#Verificar si es NULL</span>
</span></span></code></pre></div><h1 id=operadores>Operadores<a hidden class=anchor aria-hidden=true href=#operadores>#</a></h1><h2 id=relacionales>Relacionales<a hidden class=anchor aria-hidden=true href=#relacionales>#</a></h2><table><thead><tr><th><strong>Operador</strong></th><th><strong>Comparación</strong></th></tr></thead><tbody><tr><td><code>&lt;</code></td><td><code>menor que</code></td></tr><tr><td><code>&lt;=</code></td><td><code>menor que</code></td></tr><tr><td><code>></code></td><td><code>mayor que</code></td></tr><tr><td><code>>=</code></td><td><code>mayor que</code></td></tr><tr><td><code>==</code></td><td><code>igual que</code></td></tr><tr><td><code>!=</code></td><td><code>No es igual que</code></td></tr></tbody></table><h2 id=lógicos>Lógicos<a hidden class=anchor aria-hidden=true href=#lógicos>#</a></h2><table><thead><tr><th><strong>Operador</strong></th><th><strong>Comparación</strong></th></tr></thead><tbody><tr><td><code>x | y</code></td><td><code>x O y es verdadero</code></td></tr><tr><td><code>x & y</code></td><td><code>x Y y es verdadero</code></td></tr><tr><td><code>!x</code></td><td><code>x no es verdadero (negación)</code></td></tr></tbody></table><p>Si se comparan dos cadenas de texto con &lt; o > se usa como criterio el orden alfabético</p><h1 id=estructuras-de-datos>Estructuras de datos<a hidden class=anchor aria-hidden=true href=#estructuras-de-datos>#</a></h1><h2 id=vectores>Vectores<a hidden class=anchor aria-hidden=true href=#vectores>#</a></h2><p>Un vector es una colección de uno o más datos del <strong>mismo</strong> tipo.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span>vector<span style=color:#81a1c1>=</span><span style=color:#88c0d0>c</span><span style=color:#eceff4>(</span><span style=color:#b48ead>1</span><span style=color:#eceff4>,</span><span style=color:#b48ead>2</span><span style=color:#eceff4>,</span><span style=color:#b48ead>3</span><span style=color:#eceff4>)</span> <span style=color:#616e87;font-style:italic>#La c indica concatenar</span>
</span></span><span style=display:flex><span>vector <span style=color:#81a1c1>+</span> <span style=color:#b48ead>2</span>  <span style=color:#81a1c1>===&gt;</span> <span style=color:#b48ead>3</span><span style=color:#eceff4>,</span><span style=color:#b48ead>4</span><span style=color:#eceff4>,</span><span style=color:#b48ead>5</span>
</span></span><span style=display:flex><span>vector <span style=color:#81a1c1>*</span> <span style=color:#b48ead>2</span>  <span style=color:#81a1c1>===&gt;</span> <span style=color:#b48ead>2</span><span style=color:#eceff4>,</span><span style=color:#b48ead>4</span><span style=color:#eceff4>,</span><span style=color:#b48ead>6</span>
</span></span><span style=display:flex><span>vector[1] <span style=color:#616e87;font-style:italic>#Seleccionar el elemento 1 del vector</span>
</span></span><span style=display:flex><span>vector<span style=color:#88c0d0>[c</span><span style=color:#eceff4>(</span><span style=color:#b48ead>1</span><span style=color:#eceff4>,</span><span style=color:#b48ead>3</span><span style=color:#eceff4>)</span>] <span style=color:#616e87;font-style:italic>#Seleccionar el elemento 1 y 3 del vector</span>
</span></span><span style=display:flex><span>vector[1<span style=color:#81a1c1>:</span><span style=color:#b48ead>2</span>] <span style=color:#616e87;font-style:italic>#Seleccionar los elementos del 1 al 2</span>
</span></span></code></pre></div><h2 id=matrices-y-arrays>Matrices y arrays<a hidden class=anchor aria-hidden=true href=#matrices-y-arrays>#</a></h2><p>Son vectores multidimensionales. Al igual que un vector, únicamente pueden contener datos de un sólo tipo, pero además de largo, tienen más dimensiones. Cuentan con dos dimensiones, un “largo”" y un “alto”. Las matrices son, por lo tanto, una estructura con forma rectangular, con renglones y columnas.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span><span style=color:#88c0d0>matrix</span><span style=color:#eceff4>(</span><span style=color:#b48ead>1</span><span style=color:#81a1c1>:</span><span style=color:#b48ead>12</span><span style=color:#eceff4>,</span> nrow <span style=color:#81a1c1>=</span> <span style=color:#b48ead>3</span><span style=color:#eceff4>,</span> ncol <span style=color:#81a1c1>=</span> <span style=color:#b48ead>4</span><span style=color:#eceff4>)</span> <span style=color:#616e87;font-style:italic>#Crear matrices con 3 filas y 4 columnas</span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Se van organizando de arriba hacia abajo por columnas</span>
</span></span><span style=display:flex><span>      [<span style=color:#eceff4>,</span><span style=color:#b48ead>1</span>] [<span style=color:#eceff4>,</span><span style=color:#b48ead>2</span>] [<span style=color:#eceff4>,</span><span style=color:#b48ead>3</span>] [<span style=color:#eceff4>,</span><span style=color:#b48ead>4</span>]
</span></span><span style=display:flex><span>[1<span style=color:#eceff4>,</span>]    <span style=color:#b48ead>1</span>    <span style=color:#b48ead>4</span>    <span style=color:#b48ead>7</span>   <span style=color:#b48ead>10</span>
</span></span><span style=display:flex><span>[2<span style=color:#eceff4>,</span>]    <span style=color:#b48ead>2</span>    <span style=color:#b48ead>5</span>    <span style=color:#b48ead>8</span>   <span style=color:#b48ead>11</span>
</span></span><span style=display:flex><span>[3<span style=color:#eceff4>,</span>]    <span style=color:#b48ead>3</span>    <span style=color:#b48ead>6</span>    <span style=color:#b48ead>9</span>   <span style=color:#b48ead>12</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>cbind</span><span style=color:#eceff4>()</span> <span style=color:#616e87;font-style:italic>#para unir vectores, usando cada uno como una columna.</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>rbind</span><span style=color:#eceff4>()</span> <span style=color:#616e87;font-style:italic>#para unir vectores, usando cada uno como un renglón.</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>dim</span><span style=color:#eceff4>()</span> <span style=color:#616e87;font-style:italic># para la dimension de una matriz</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>t</span><span style=color:#eceff4>(</span>matriz<span style=color:#eceff4>)</span> <span style=color:#616e87;font-style:italic># Trasponer una matriz</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Se puede sumar<span style=color:#eceff4>,</span> multiplicar y elevar por un escalar una matriz.
</span></span><span style=display:flex><span>Esto afecta todos los valores que existen en ella
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>matriz[filas<span style=color:#eceff4>,</span> columnas] <span style=color:#616e87;font-style:italic>#Seleccion de datos </span>
</span></span></code></pre></div><p>Las matrices siempre serán rectangulares. Cuando intentamos acomodar un número diferente de elementos y celdas, ocurren dos cosas diferentes. Si el número de elementos es mayor al número de celdas, se acomodarán todos los datos que sean posibles y los demás se omitirán. Si, por el contrario, el número de celdas es mayor que el número de elementos, estos se repetirán.</p><h2 id=dataframes>Dataframes<a hidden class=anchor aria-hidden=true href=#dataframes>#</a></h2><p>Los data frames son estructuras de datos que pueden contener datos de diferentes tipos. los renglones en un data frame representan casos, individuos u observaciones, mientras que las columnas representan atributos, rasgos o variables. Un data frame está compuesto por vectores.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span>mi_df <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>data.frame</span><span style=color:#eceff4>(</span>
</span></span><span style=display:flex><span>  <span style=color:#a3be8c>&#34;entero&#34;</span> <span style=color:#81a1c1>=</span> <span style=color:#b48ead>1</span><span style=color:#81a1c1>:</span><span style=color:#b48ead>4</span><span style=color:#eceff4>,</span> 
</span></span><span style=display:flex><span>  <span style=color:#a3be8c>&#34;factor&#34;</span> <span style=color:#81a1c1>=</span> <span style=color:#88c0d0>c</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;a&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;b&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;c&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;d&#34;</span><span style=color:#eceff4>),</span> 
</span></span><span style=display:flex><span>  <span style=color:#a3be8c>&#34;numero&#34;</span> <span style=color:#81a1c1>=</span> <span style=color:#88c0d0>c</span><span style=color:#eceff4>(</span><span style=color:#b48ead>1.2</span><span style=color:#eceff4>,</span> <span style=color:#b48ead>3.4</span><span style=color:#eceff4>,</span> <span style=color:#b48ead>4.5</span><span style=color:#eceff4>,</span> <span style=color:#b48ead>5.6</span><span style=color:#eceff4>),</span>
</span></span><span style=display:flex><span>  <span style=color:#a3be8c>&#34;cadena&#34;</span> <span style=color:#81a1c1>=</span> <span style=color:#88c0d0>as.character</span><span style=color:#eceff4>(</span><span style=color:#88c0d0>c</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;a&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;b&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;c&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;d&#34;</span><span style=color:#eceff4>))</span>
</span></span><span style=display:flex><span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>dim</span><span style=color:#eceff4>(</span>mi_df<span style=color:#eceff4>)</span> <span style=color:#616e87;font-style:italic>#Conocer dimensiones dataframe</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>names</span><span style=color:#eceff4>(</span>mi_df<span style=color:#eceff4>)</span> <span style=color:#616e87;font-style:italic>#Conocer el nombre de las columnas dataFrame</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>as.data.frame</span><span style=color:#eceff4>()</span> <span style=color:#616e87;font-style:italic>#Convertir a data frame</span>
</span></span><span style=display:flex><span>data.frame[indice_filas<span style=color:#eceff4>,</span> indice_columnas] <span style=color:#616e87;font-style:italic>#Seleccion de datos </span>
</span></span><span style=display:flex><span>data.frame[<span style=color:#a3be8c>&#34;name_column&#34;</span>] <span style=color:#616e87;font-style:italic>#Seleccion de datos</span>
</span></span><span style=display:flex><span>data.frame<span style=color:#81a1c1>$</span>name_column <span style=color:#616e87;font-style:italic>#Seleccion de datos</span>
</span></span><span style=display:flex><span>mi_df<span style=color:#81a1c1>$</span><span style=color:#88c0d0>c</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;nombre&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;edad&#34;</span><span style=color:#eceff4>)</span> <span style=color:#616e87;font-style:italic>#Seleccionar datos. </span>
</span></span><span style=display:flex><span>iris[iris<span style=color:#81a1c1>$</span>Sepal.Length <span style=color:#81a1c1>&gt;</span> <span style=color:#b48ead>7.5</span><span style=color:#eceff4>,</span> ] <span style=color:#616e87;font-style:italic>#Seleccion con validacion</span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Otra forma de seleccion</span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Data, condicion, seleccion de columnas</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>subset</span><span style=color:#eceff4>(</span>x <span style=color:#81a1c1>=</span> iris<span style=color:#eceff4>,</span> subset <span style=color:#81a1c1>=</span> Sepal.Length <span style=color:#81a1c1>&gt;</span> <span style=color:#b48ead>7.5</span><span style=color:#eceff4>,</span> select <span style=color:#81a1c1>=</span> <span style=color:#88c0d0>c</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;Sepal.Length&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;Species&#34;</span><span style=color:#eceff4>))</span>
</span></span></code></pre></div><h2 id=listas>Listas<a hidden class=anchor aria-hidden=true href=#listas>#</a></h2><p>Las listas, al igual que los vectores, son estructuras de datos unidimensionales, sólo tienen largo, pero a diferencia de los vectores cada uno de sus elementos puede ser de diferente tipo o incluso de diferente clase. Al igual que con un data frame, tenemos la opción de poner nombre a cada elemento de una lista.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span>mi_matriz <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>matrix</span><span style=color:#eceff4>(</span><span style=color:#b48ead>1</span><span style=color:#81a1c1>:</span><span style=color:#b48ead>4</span><span style=color:#eceff4>,</span> nrow <span style=color:#81a1c1>=</span> <span style=color:#b48ead>2</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>mi_df     <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>data.frame</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;num&#34;</span> <span style=color:#81a1c1>=</span> <span style=color:#b48ead>1</span><span style=color:#81a1c1>:</span><span style=color:#b48ead>3</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;let&#34;</span> <span style=color:#81a1c1>=</span> <span style=color:#88c0d0>c</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;a&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;b&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;c&#34;</span><span style=color:#eceff4>))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>mi_lista <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>list</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;un_vector&#34;</span> <span style=color:#81a1c1>=</span> mi_vector<span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;una_matriz&#34;</span> <span style=color:#81a1c1>=</span> mi_matriz<span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;un_df&#34;</span> <span style=color:#81a1c1>=</span> mi_df<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>mi_lista
</span></span></code></pre></div><h2 id=coerción>Coerción<a hidden class=anchor aria-hidden=true href=#coerción>#</a></h2><table><thead><tr><th><strong>Función</strong></th><th><strong>Coerciona a</strong></th><th><strong>Coersionar exitosamente a</strong></th></tr></thead><tbody><tr><td><code>as.vector()</code></td><td><code>vector</code></td><td><code>matrices</code></td></tr><tr><td><code>as.matrix()</code></td><td><code>matrices</code></td><td><code>vectores, data frames</code></td></tr><tr><td><code>as.data.frame()</code></td><td><code>data frame</code></td><td><code>vectores, matrices</code></td></tr><tr><td><code>as.list()</code></td><td><code>lista</code></td><td><code>vectores, matrices, data frames</code></td></tr></tbody></table><h1 id=funciones>Funciones<a hidden class=anchor aria-hidden=true href=#funciones>#</a></h1><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Definicion</span>
</span></span><span style=display:flex><span>nombre <span style=color:#81a1c1>&lt;-</span> <span style=color:#81a1c1;font-weight:700>function</span><span style=color:#eceff4>(</span>argumento1<span style=color:#eceff4>,</span>argumento2<span style=color:#eceff4>,</span>etc<span style=color:#eceff4>)</span> <span style=color:#eceff4>{</span>
</span></span><span style=display:flex><span>  operaciones
</span></span><span style=display:flex><span><span style=color:#eceff4>}</span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Ejemplo</span>
</span></span><span style=display:flex><span>area_cuad <span style=color:#81a1c1>&lt;-</span> <span style=color:#81a1c1;font-weight:700>function</span><span style=color:#eceff4>(</span>lado1<span style=color:#eceff4>,</span> lado2<span style=color:#eceff4>)</span> <span style=color:#eceff4>{</span>
</span></span><span style=display:flex><span>  lado1 <span style=color:#81a1c1>*</span> lado2
</span></span><span style=display:flex><span><span style=color:#eceff4>}</span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Forma de llamado 1 </span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>area_cuad</span><span style=color:#eceff4>(</span>lado1 <span style=color:#81a1c1>=</span> <span style=color:#b48ead>4</span><span style=color:#eceff4>,</span> lado2 <span style=color:#81a1c1>=</span> <span style=color:#b48ead>6</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Forma de llamado 2 </span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>area_cuad</span><span style=color:#eceff4>(</span><span style=color:#b48ead>4</span><span style=color:#eceff4>,</span><span style=color:#b48ead>6</span><span style=color:#eceff4>)</span>
</span></span></code></pre></div><h1 id=estructuras-de-control>Estructuras de control<a hidden class=anchor aria-hidden=true href=#estructuras-de-control>#</a></h1><h2 id=if-else>If-Else<a hidden class=anchor aria-hidden=true href=#if-else>#</a></h2><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>if</span><span style=color:#eceff4>(</span>condición<span style=color:#eceff4>)</span> <span style=color:#eceff4>{</span>
</span></span><span style=display:flex><span>  operaciones_si_la_condición_es_TRUE
</span></span><span style=display:flex><span><span style=color:#eceff4>}</span> <span style=color:#81a1c1;font-weight:700>else</span> <span style=color:#eceff4>{</span>
</span></span><span style=display:flex><span>  operaciones_si_la_condición_es_FALSE
</span></span><span style=display:flex><span><span style=color:#eceff4>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Ejemplo</span>
</span></span><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>if</span><span style=color:#eceff4>(</span>media <span style=color:#81a1c1>&gt;=</span> <span style=color:#b48ead>6</span><span style=color:#eceff4>)</span> <span style=color:#eceff4>{</span>
</span></span><span style=display:flex><span>    <span style=color:#88c0d0>print</span><span style=color:#eceff4>(</span><span style=color:#88c0d0>paste0</span><span style=color:#eceff4>(</span>texto<span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;aprobado&#34;</span><span style=color:#eceff4>))</span>
</span></span><span style=display:flex><span>  <span style=color:#eceff4>}</span> <span style=color:#81a1c1;font-weight:700>else</span> <span style=color:#eceff4>{</span>
</span></span><span style=display:flex><span>    <span style=color:#88c0d0>print</span><span style=color:#eceff4>(</span><span style=color:#88c0d0>paste0</span><span style=color:#eceff4>(</span>texto<span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;reprobado&#34;</span><span style=color:#eceff4>))</span>
</span></span><span style=display:flex><span>  <span style=color:#eceff4>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Otra forma</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>ifelse</span><span style=color:#eceff4>(</span>vector<span style=color:#eceff4>,</span> valor_si_TRUE<span style=color:#eceff4>,</span> valor_si_FALSE<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Ejemplo</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>ifelse</span><span style=color:#eceff4>(</span>num <span style=color:#81a1c1>%%</span> <span style=color:#b48ead>2</span> <span style=color:#81a1c1>==</span> <span style=color:#b48ead>0</span> <span style=color:#81a1c1>&amp;</span> num <span style=color:#81a1c1>%%</span> <span style=color:#b48ead>3</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;Divisible&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;No divisible&#34;</span><span style=color:#eceff4>)</span>
</span></span></code></pre></div><h2 id=for>For<a hidden class=anchor aria-hidden=true href=#for>#</a></h2><p>Este ciclo no es el mas recomendado, existe otras alternativas en R mas potenciales para ejecutar estas tareas.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>for</span><span style=color:#eceff4>(</span>elemento <span style=color:#81a1c1;font-weight:700>in</span> objeto<span style=color:#eceff4>)</span> <span style=color:#eceff4>{</span>
</span></span><span style=display:flex><span>  operacion_con_elemento
</span></span><span style=display:flex><span><span style=color:#eceff4>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Ejemplo</span>
</span></span><span style=display:flex><span>dado <span style=color:#81a1c1>&lt;-</span> <span style=color:#b48ead>1</span><span style=color:#81a1c1>:</span><span style=color:#b48ead>6</span>
</span></span><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>for</span><span style=color:#eceff4>(</span>cara <span style=color:#81a1c1;font-weight:700>in</span> dado<span style=color:#eceff4>)</span> <span style=color:#eceff4>{</span>
</span></span><span style=display:flex><span>  dado ^ <span style=color:#b48ead>2</span> 
</span></span><span style=display:flex><span><span style=color:#eceff4>}</span>
</span></span></code></pre></div><p>For para añadir filas a una data table</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span>v<span style=color:#81a1c1>&lt;-</span>colores<span style=color:#81a1c1>$</span>cod.ext.2
</span></span><span style=display:flex><span>n<span style=color:#81a1c1>&lt;-</span><span style=color:#b48ead>1</span>
</span></span><span style=display:flex><span>list<span style=color:#81a1c1>&lt;-</span><span style=color:#88c0d0>as.list</span><span style=color:#eceff4>(</span><span style=color:#81a1c1;font-weight:700>NULL</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>for</span> <span style=color:#eceff4>(</span>i <span style=color:#81a1c1;font-weight:700>in</span> v<span style=color:#eceff4>){</span>
</span></span><span style=display:flex><span>  a<span style=color:#81a1c1>&lt;-</span>conector
</span></span><span style=display:flex><span>  a<span style=color:#81a1c1>$</span>ext.2<span style=color:#81a1c1>&lt;-</span><span style=color:#88c0d0>paste0</span><span style=color:#eceff4>(</span>i<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>  list[[n]]<span style=color:#81a1c1>&lt;-</span>a
</span></span><span style=display:flex><span>  conector1<span style=color:#81a1c1>&lt;-</span><span style=color:#88c0d0>rbindlist</span><span style=color:#eceff4>(</span>list<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>  n<span style=color:#81a1c1>&lt;-</span>n<span style=color:#b48ead>+1</span>
</span></span><span style=display:flex><span><span style=color:#eceff4>}</span>
</span></span></code></pre></div><p>Para imprimir imagenes de un ggplot</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span>data_g<span style=color:#81a1c1>&lt;-</span>data[maquina<span style=color:#81a1c1>==</span>i<span style=color:#eceff4>,</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>p<span style=color:#81a1c1>&lt;-</span><span style=color:#88c0d0>ggplot</span><span style=color:#eceff4>(</span>data<span style=color:#81a1c1>=</span>data_g<span style=color:#eceff4>,</span> <span style=color:#88c0d0>aes</span><span style=color:#eceff4>(</span>x<span style=color:#81a1c1>=</span>mes<span style=color:#eceff4>,</span> y<span style=color:#81a1c1>=</span>metros<span style=color:#eceff4>,</span> fill<span style=color:#81a1c1>=</span>metodo<span style=color:#eceff4>))</span> <span style=color:#81a1c1>+</span>
</span></span><span style=display:flex><span>  <span style=color:#88c0d0>geom_bar</span><span style=color:#eceff4>(</span>stat<span style=color:#81a1c1>=</span><span style=color:#a3be8c>&#34;identity&#34;</span><span style=color:#eceff4>,</span> position<span style=color:#81a1c1>=</span><span style=color:#88c0d0>position_dodge</span><span style=color:#eceff4>())</span><span style=color:#81a1c1>+</span>
</span></span><span style=display:flex><span>  <span style=color:#88c0d0>geom_text</span><span style=color:#eceff4>(</span><span style=color:#88c0d0>aes</span><span style=color:#eceff4>(</span>label<span style=color:#81a1c1>=</span>metros<span style=color:#eceff4>),</span> vjust<span style=color:#81a1c1>=</span><span style=color:#b48ead>1.6</span><span style=color:#eceff4>,</span> color<span style=color:#81a1c1>=</span><span style=color:#a3be8c>&#34;white&#34;</span><span style=color:#eceff4>,</span>
</span></span><span style=display:flex><span>            position <span style=color:#81a1c1>=</span> <span style=color:#88c0d0>position_dodge</span><span style=color:#eceff4>(</span><span style=color:#b48ead>0.9</span><span style=color:#eceff4>),</span> size<span style=color:#81a1c1>=</span><span style=color:#b48ead>2.8</span><span style=color:#eceff4>)</span><span style=color:#81a1c1>+</span>
</span></span><span style=display:flex><span>  <span style=color:#88c0d0>scale_fill_brewer</span><span style=color:#eceff4>(</span>palette<span style=color:#81a1c1>=</span><span style=color:#a3be8c>&#34;Paired&#34;</span><span style=color:#eceff4>)</span><span style=color:#81a1c1>+</span>
</span></span><span style=display:flex><span>  <span style=color:#88c0d0>theme_minimal</span><span style=color:#eceff4>()</span><span style=color:#81a1c1>+</span> <span style=color:#88c0d0>labs</span><span style=color:#eceff4>(</span>title<span style=color:#81a1c1>=</span><span style=color:#88c0d0>paste0</span><span style=color:#eceff4>(</span>i<span style=color:#eceff4>))</span><span style=color:#81a1c1>+</span><span style=color:#88c0d0>theme</span><span style=color:#eceff4>(</span>plot.title <span style=color:#81a1c1>=</span> <span style=color:#88c0d0>element_text</span><span style=color:#eceff4>(</span>hjust <span style=color:#81a1c1>=</span> <span style=color:#b48ead>0.5</span><span style=color:#eceff4>))</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>ggsave</span><span style=color:#eceff4>(</span><span style=color:#88c0d0>paste0</span><span style=color:#eceff4>(</span>i<span style=color:#eceff4>,</span><span style=color:#a3be8c>&#34;.png&#34;</span><span style=color:#eceff4>))</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>print</span><span style=color:#eceff4>(</span>p<span style=color:#eceff4>)</span>
</span></span></code></pre></div><h2 id=while>While<a hidden class=anchor aria-hidden=true href=#while>#</a></h2><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>while</span><span style=color:#eceff4>(</span>condicion<span style=color:#eceff4>)</span> <span style=color:#eceff4>{</span>
</span></span><span style=display:flex><span>  operaciones
</span></span><span style=display:flex><span><span style=color:#eceff4>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Ejemplo</span>
</span></span><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>while</span><span style=color:#eceff4>(</span>i <span style=color:#81a1c1>&lt;</span> <span style=color:#b48ead>10</span><span style=color:#eceff4>)</span> <span style=color:#eceff4>{</span>
</span></span><span style=display:flex><span>  <span style=color:#88c0d0>print</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;Presiona ESC para detener&#34;</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span><span style=color:#eceff4>}</span>
</span></span></code></pre></div><h2 id=next-y-break>Next y Break<a hidden class=anchor aria-hidden=true href=#next-y-break>#</a></h2><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Next (Salta parte de un cilo)</span>
</span></span><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>for</span><span style=color:#eceff4>(</span>i <span style=color:#81a1c1;font-weight:700>in</span> <span style=color:#b48ead>1</span><span style=color:#81a1c1>:</span><span style=color:#b48ead>4</span><span style=color:#eceff4>)</span> <span style=color:#eceff4>{</span>
</span></span><span style=display:flex><span>  <span style=color:#81a1c1;font-weight:700>if</span><span style=color:#eceff4>(</span>i <span style=color:#81a1c1>==</span> <span style=color:#b48ead>3</span><span style=color:#eceff4>)</span> <span style=color:#eceff4>{</span>
</span></span><span style=display:flex><span>    <span style=color:#81a1c1;font-weight:700>next</span>
</span></span><span style=display:flex><span>  <span style=color:#eceff4>}</span>
</span></span><span style=display:flex><span>  <span style=color:#88c0d0>print</span><span style=color:#eceff4>(</span>i<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span><span style=color:#eceff4>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Break (Rompe un ciclo)</span>
</span></span><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>for</span><span style=color:#eceff4>(</span>i <span style=color:#81a1c1;font-weight:700>in</span> <span style=color:#b48ead>1</span><span style=color:#81a1c1>:</span><span style=color:#b48ead>10</span><span style=color:#eceff4>)</span> <span style=color:#eceff4>{</span>
</span></span><span style=display:flex><span>  <span style=color:#81a1c1;font-weight:700>if</span><span style=color:#eceff4>(</span>i <span style=color:#81a1c1>==</span> <span style=color:#b48ead>3</span><span style=color:#eceff4>)</span> <span style=color:#eceff4>{</span>
</span></span><span style=display:flex><span>    <span style=color:#81a1c1;font-weight:700>break</span>
</span></span><span style=display:flex><span>  <span style=color:#eceff4>}</span>
</span></span><span style=display:flex><span>  <span style=color:#88c0d0>print</span><span style=color:#eceff4>(</span>i<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span><span style=color:#eceff4>}</span>
</span></span></code></pre></div><h2 id=repeat>Repeat<a hidden class=anchor aria-hidden=true href=#repeat>#</a></h2><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>repeat</span> <span style=color:#eceff4>{</span>
</span></span><span style=display:flex><span>  operaciones
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  un_break_para_detener
</span></span><span style=display:flex><span><span style=color:#eceff4>}</span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Ejemplo</span>
</span></span><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>repeat</span><span style=color:#eceff4>{</span>
</span></span><span style=display:flex><span>  valor <span style=color:#81a1c1>&lt;-</span> valor <span style=color:#81a1c1>+</span> <span style=color:#b48ead>1</span>
</span></span><span style=display:flex><span>  <span style=color:#81a1c1;font-weight:700>if</span><span style=color:#eceff4>(</span>valor <span style=color:#81a1c1>==</span> <span style=color:#b48ead>5</span><span style=color:#eceff4>)</span> <span style=color:#eceff4>{</span>
</span></span><span style=display:flex><span>    <span style=color:#81a1c1;font-weight:700>break</span>
</span></span><span style=display:flex><span>  <span style=color:#eceff4>}</span>
</span></span><span style=display:flex><span><span style=color:#eceff4>}</span>
</span></span></code></pre></div><p>Si no incluimos un break, el bucle se repetirá indefinidamente y sólo lo podremos detener pulsando la tecla ESC, así que hay que tener cuidado al usar esta estructura de control</p><h1 id=data-table>Data table<a hidden class=anchor aria-hidden=true href=#data-table>#</a></h1><p>Librería mas veloz y flexible para el manejo de tablas en R.</p><p>Siempre que tengas datos para analizar en computador, trata de tenerlos en formato largo, es mucho más fácil de trabajar con ellos. Para convertir una tabla ancha en una larga, usa <code>data.table::melt</code>.</p><p>Siempre que tengas que generar datos para interpretación por humanos, considera ponerlos en formato ancho, son más fáciles de entender. Podes lograrlo con <code>data.table::dcast</code>.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Actualizar todos los paquetes</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>update.packages</span><span style=color:#eceff4>(</span>ask <span style=color:#81a1c1>=</span> <span style=color:#81a1c1;font-weight:700>FALSE</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Instalar paquete</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>install.packages</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;data.table&#34;</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>install.packages</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;tidyverse&#34;</span><span style=color:#eceff4>,</span> dependencies <span style=color:#81a1c1>=</span> <span style=color:#81a1c1;font-weight:700>TRUE</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Cargar libreria</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>library</span><span style=color:#eceff4>(</span>data.table<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Crear data table</span>
</span></span><span style=display:flex><span>mi_df <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>data.table</span><span style=color:#eceff4>(</span>
</span></span><span style=display:flex><span>  <span style=color:#a3be8c>&#34;entero&#34;</span> <span style=color:#81a1c1>=</span> <span style=color:#b48ead>1</span><span style=color:#81a1c1>:</span><span style=color:#b48ead>4</span><span style=color:#eceff4>,</span> 
</span></span><span style=display:flex><span>  <span style=color:#a3be8c>&#34;factor&#34;</span> <span style=color:#81a1c1>=</span> <span style=color:#88c0d0>c</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;a&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;b&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;c&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;d&#34;</span><span style=color:#eceff4>),</span> 
</span></span><span style=display:flex><span>  <span style=color:#a3be8c>&#34;numero&#34;</span> <span style=color:#81a1c1>=</span> <span style=color:#88c0d0>c</span><span style=color:#eceff4>(</span><span style=color:#b48ead>1.2</span><span style=color:#eceff4>,</span> <span style=color:#b48ead>3.4</span><span style=color:#eceff4>,</span> <span style=color:#b48ead>4.5</span><span style=color:#eceff4>,</span> <span style=color:#b48ead>5.6</span><span style=color:#eceff4>),</span>
</span></span><span style=display:flex><span>  <span style=color:#a3be8c>&#34;cadena&#34;</span> <span style=color:#81a1c1>=</span> <span style=color:#88c0d0>as.character</span><span style=color:#eceff4>(</span><span style=color:#88c0d0>c</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;a&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;b&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;c&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;d&#34;</span><span style=color:#eceff4>))</span>
</span></span><span style=display:flex><span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#leer datos</span>
</span></span><span style=display:flex><span>data <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>fread</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;data/item_julio.csv&#34;</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Se recomienda usa r col class para idnicar que tipo de datos son y ahorrar tiempo de carga</span>
</span></span><span style=display:flex><span>tipo<span style=color:#81a1c1>&lt;-</span><span style=color:#88c0d0>c</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;character&#34;</span><span style=color:#eceff4>,</span><span style=color:#a3be8c>&#34;character&#34;</span><span style=color:#eceff4>,</span><span style=color:#a3be8c>&#34;character&#34;</span><span style=color:#eceff4>)</span><span style=color:#616e87;font-style:italic>#Permite cargar mas rapido y evitar errores</span>
</span></span><span style=display:flex><span>conector <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>fread</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;data/conector_ref.csv&#34;</span><span style=color:#eceff4>,</span> colClasses <span style=color:#81a1c1>=</span> tipo<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Escribir datos</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>fwrite</span><span style=color:#eceff4>(</span>x <span style=color:#81a1c1>=</span>conector<span style=color:#eceff4>,</span> file <span style=color:#81a1c1>=</span> <span style=color:#a3be8c>&#34;exit/testing.csv&#34;</span><span style=color:#eceff4>,</span> sep <span style=color:#81a1c1>=</span> <span style=color:#a3be8c>&#34;,&#34;</span><span style=color:#eceff4>,</span> dec <span style=color:#81a1c1>=</span> <span style=color:#a3be8c>&#34;.&#34;</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#eliminar duplicados</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>unique</span><span style=color:#eceff4>(</span>Item<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Estructura</span>
</span></span><span style=display:flex><span>data table[i<span style=color:#eceff4>,</span>j<span style=color:#eceff4>,</span>by<span style=color:#81a1c1>=</span>k]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#i sirve para filtrar</span>
</span></span><span style=display:flex><span>irisDT[Species <span style=color:#81a1c1>==</span> <span style=color:#a3be8c>&#34;setosa&#34;</span><span style=color:#eceff4>,</span> ]
</span></span><span style=display:flex><span>irisDT[Petal.Width <span style=color:#81a1c1>&gt;</span> <span style=color:#b48ead>2</span><span style=color:#eceff4>,</span> ]
</span></span><span style=display:flex><span>irisDT[Petal.Width <span style=color:#81a1c1>&lt;=</span> <span style=color:#b48ead>0.3</span> <span style=color:#81a1c1>&amp;</span> Sepal.Length <span style=color:#81a1c1>&gt;</span> <span style=color:#b48ead>5</span><span style=color:#eceff4>,</span>]
</span></span><span style=display:flex><span>irisDT<span style=color:#88c0d0>[c</span><span style=color:#eceff4>(</span><span style=color:#b48ead>1</span><span style=color:#eceff4>,</span> <span style=color:#b48ead>4</span><span style=color:#eceff4>),</span>]
</span></span><span style=display:flex><span>irisDT<span style=color:#88c0d0>[c</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;color&#34;</span><span style=color:#eceff4>,</span><span style=color:#a3be8c>&#34;altura&#34;</span><span style=color:#eceff4>),</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#La j sirve para operar (¿que queremos hacer con los datos?)</span>
</span></span><span style=display:flex><span>irisDT[Species <span style=color:#81a1c1>==</span> <span style=color:#a3be8c>&#34;versicolor&#34;</span><span style=color:#eceff4>,</span> <span style=color:#88c0d0>mean</span><span style=color:#eceff4>(</span>Sepal.Length<span style=color:#eceff4>)</span>]
</span></span><span style=display:flex><span>irisDT[Species <span style=color:#81a1c1>==</span> <span style=color:#a3be8c>&#34;versicolor&#34;</span><span style=color:#eceff4>,</span> .(promedio <span style=color:#81a1c1>=</span> <span style=color:#88c0d0>mean</span><span style=color:#eceff4>(</span>Sepal.Length<span style=color:#eceff4>),</span> mediana <span style=color:#81a1c1>=</span> <span style=color:#88c0d0>median</span><span style=color:#eceff4>(</span>Sepal.Length<span style=color:#eceff4>))</span>]   <span style=color:#616e87;font-style:italic>#varias operaciones al mismo tiempo</span>
</span></span><span style=display:flex><span>irisDT[Species <span style=color:#81a1c1>==</span> <span style=color:#a3be8c>&#34;versicolor&#34;</span><span style=color:#eceff4>,</span> <span style=color:#88c0d0>hist</span><span style=color:#eceff4>(</span>Sepal.Length<span style=color:#eceff4>)</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#La k sirve para agrupar</span>
</span></span><span style=display:flex><span>irisDT[ <span style=color:#eceff4>,</span> <span style=color:#88c0d0>mean</span><span style=color:#eceff4>(</span>Sepal.Length<span style=color:#eceff4>),</span> by <span style=color:#81a1c1>=</span> Species]
</span></span><span style=display:flex><span>irisDT[Sepal.Width <span style=color:#81a1c1>&gt;=</span> <span style=color:#b48ead>3</span><span style=color:#eceff4>,</span> <span style=color:#88c0d0>mean</span><span style=color:#eceff4>(</span>Sepal.Length<span style=color:#eceff4>),</span> by <span style=color:#81a1c1>=</span> Species]
</span></span><span style=display:flex><span>irisDT[<span style=color:#eceff4>,</span> <span style=color:#88c0d0>mean</span><span style=color:#eceff4>(</span>Sepal.Length<span style=color:#eceff4>),</span> by <span style=color:#81a1c1>=</span> .(Species<span style=color:#eceff4>,</span> petaloPequeno <span style=color:#81a1c1>=</span> Petal.Width <span style=color:#81a1c1>&lt;</span> <span style=color:#b48ead>.3</span><span style=color:#eceff4>)</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Contar el número de registros.</span>
</span></span><span style=display:flex><span>.N 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Cambiar nombres a las variables</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>names </span><span style=color:#eceff4>(</span>DatosTdoPeso<span style=color:#eceff4>)</span> <span style=color:#81a1c1>=</span> <span style=color:#88c0d0>c</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;Tratamiento&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;Variedad&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;Parcela&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;Peso46a60&#34;</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Cambiar NA por otros valores</span>
</span></span><span style=display:flex><span>my_data<span style=color:#88c0d0>[is.na</span><span style=color:#eceff4>(</span>my_data<span style=color:#eceff4>)</span>] <span style=color:#81a1c1>&lt;-</span> <span style=color:#b48ead>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Cambiar solo un nombre de una columna</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>names </span><span style=color:#eceff4>(</span>DatosTdoPeso<span style=color:#eceff4>)</span>[3] <span style=color:#81a1c1>=</span> <span style=color:#a3be8c>&#34;Parcela&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Cambiar el orden de las columnas, se recomienda hacerlo por nombres</span>
</span></span><span style=display:flex><span>DatosTdoPeso1 <span style=color:#81a1c1>=</span> DatosTdoPeso [ <span style=color:#eceff4>,</span> <span style=color:#88c0d0>c</span><span style=color:#eceff4>(</span><span style=color:#b48ead>3</span><span style=color:#eceff4>,</span><span style=color:#b48ead>2</span><span style=color:#eceff4>,</span><span style=color:#b48ead>1</span><span style=color:#eceff4>,</span><span style=color:#b48ead>7</span><span style=color:#eceff4>,</span><span style=color:#b48ead>6</span><span style=color:#eceff4>,</span><span style=color:#b48ead>5</span><span style=color:#eceff4>,</span><span style=color:#b48ead>4</span><span style=color:#eceff4>)</span>]
</span></span><span style=display:flex><span>DatosTdoPeso1 <span style=color:#81a1c1>=</span> DatosTdoPeso [ <span style=color:#eceff4>,</span> <span style=color:#88c0d0>c</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;name&#34;</span><span style=color:#eceff4>,</span><span style=color:#a3be8c>&#34;fecha&#34;</span><span style=color:#eceff4>,</span><span style=color:#a3be8c>&#34;key&#34;</span><span style=color:#eceff4>)</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#cambiar el orden del eje x en ggplot2</span>
</span></span><span style=display:flex><span>equiposDeslizadores1<span style=color:#81a1c1>$</span>month <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>factor</span><span style=color:#eceff4>(</span>equiposDeslizadores1<span style=color:#81a1c1>$</span>month<span style=color:#eceff4>,</span>levels <span style=color:#81a1c1>=</span> <span style=color:#88c0d0>c</span><span style=color:#eceff4>(</span><span style=color:#b48ead>0</span><span style=color:#eceff4>,</span><span style=color:#b48ead>1</span><span style=color:#eceff4>,</span><span style=color:#b48ead>2</span><span style=color:#eceff4>,</span><span style=color:#b48ead>3</span><span style=color:#eceff4>,</span><span style=color:#b48ead>4</span><span style=color:#eceff4>,</span><span style=color:#b48ead>5</span><span style=color:#eceff4>,</span><span style=color:#b48ead>6</span><span style=color:#eceff4>,</span><span style=color:#b48ead>7</span><span style=color:#eceff4>,</span><span style=color:#b48ead>8</span><span style=color:#eceff4>,</span><span style=color:#b48ead>9</span><span style=color:#eceff4>,</span><span style=color:#b48ead>10</span><span style=color:#eceff4>,</span><span style=color:#b48ead>11</span><span style=color:#eceff4>,</span><span style=color:#b48ead>12</span><span style=color:#eceff4>,</span><span style=color:#b48ead>13</span><span style=color:#eceff4>),</span>labels <span style=color:#81a1c1>=</span> <span style=color:#88c0d0>c</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;YTD18&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;1&#34;</span><span style=color:#eceff4>,</span><span style=color:#a3be8c>&#34;2&#34;</span><span style=color:#eceff4>,</span><span style=color:#a3be8c>&#34;3&#34;</span><span style=color:#eceff4>,</span><span style=color:#a3be8c>&#34;4&#34;</span><span style=color:#eceff4>,</span><span style=color:#a3be8c>&#34;5&#34;</span><span style=color:#eceff4>,</span><span style=color:#a3be8c>&#34;6&#34;</span><span style=color:#eceff4>,</span><span style=color:#a3be8c>&#34;7&#34;</span><span style=color:#eceff4>,</span><span style=color:#a3be8c>&#34;8&#34;</span><span style=color:#eceff4>,</span><span style=color:#a3be8c>&#34;9&#34;</span><span style=color:#eceff4>,</span><span style=color:#a3be8c>&#34;10&#34;</span><span style=color:#eceff4>,</span><span style=color:#a3be8c>&#34;11&#34;</span><span style=color:#eceff4>,</span><span style=color:#a3be8c>&#34;12&#34;</span><span style=color:#eceff4>,</span><span style=color:#a3be8c>&#34;YTD19&#34;</span><span style=color:#eceff4>))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Funciones especiales</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Entre</span>
</span></span><span style=display:flex><span>irisDT[Sepal.Length <span style=color:#81a1c1>%between%</span> <span style=color:#88c0d0>c</span><span style=color:#eceff4>(</span><span style=color:#b48ead>5.1</span><span style=color:#eceff4>,</span> <span style=color:#b48ead>5.2</span><span style=color:#eceff4>)</span>]
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Como </span>
</span></span><span style=display:flex><span>irisDT[Species <span style=color:#81a1c1>%like%</span> <span style=color:#a3be8c>&#34;v.*&#34;</span><span style=color:#eceff4>,</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Tabla ancha a larga</span>
</span></span><span style=display:flex><span>dfLarga_2 <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>melt</span><span style=color:#eceff4>(</span>dfAncha<span style=color:#eceff4>,</span> id.vars <span style=color:#81a1c1>=</span> <span style=color:#a3be8c>&#34;item&#34;</span><span style=color:#eceff4>,</span>  <span style=color:#616e87;font-style:italic>#id=datos que no vamos a cambiar</span>
</span></span><span style=display:flex><span>                  variable.name <span style=color:#81a1c1>=</span> <span style=color:#a3be8c>&#34;region&#34;</span><span style=color:#eceff4>,</span>  <span style=color:#616e87;font-style:italic>#var.name= nombre encabezados a poner largos</span>
</span></span><span style=display:flex><span>                  value.name <span style=color:#81a1c1>=</span> <span style=color:#a3be8c>&#34;valor&#34;</span><span style=color:#eceff4>,</span>  <span style=color:#616e87;font-style:italic>#value= valores de los var.name</span>
</span></span><span style=display:flex><span>                  variable.factor <span style=color:#81a1c1>=</span> <span style=color:#81a1c1;font-weight:700>FALSE</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Tabla larga a ancha</span>
</span></span><span style=display:flex><span>dfAncha_2 <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>dcast</span><span style=color:#eceff4>(</span>dfLarga<span style=color:#eceff4>,</span> 
</span></span><span style=display:flex><span>                   item <span style=color:#81a1c1>~</span> region<span style=color:#eceff4>,</span> <span style=color:#616e87;font-style:italic># x ~ y (filas ~ columnas)</span>
</span></span><span style=display:flex><span>                   value.var <span style=color:#81a1c1>=</span> <span style=color:#a3be8c>&#34;valor&#34;</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Contar el numero de elementos por filas. Se uso en lista de materiales</span>
</span></span><span style=display:flex><span>col.base<span style=color:#81a1c1>&lt;-</span>col.base[ <span style=color:#eceff4>,</span> index <span style=color:#81a1c1>:=</span> <span style=color:#b48ead>1</span><span style=color:#81a1c1>:</span>.N <span style=color:#eceff4>,</span> by <span style=color:#81a1c1>=</span> <span style=color:#88c0d0>c</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;cod.ext.2.col&#34;</span><span style=color:#eceff4>)</span> ]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Convierte , en .</span>
</span></span><span style=display:flex><span>epoxica<span style=color:#81a1c1>$</span>produccion.und<span style=color:#81a1c1>&lt;-</span><span style=color:#88c0d0>gsub</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;,&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;.&#34;</span><span style=color:#eceff4>,</span> epoxica<span style=color:#81a1c1>$</span>produccion.und<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>#Nueva forma buscarv</span>
</span></span><span style=display:flex><span>nominalesEnsamble <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>fread</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;files/nominales/nominales_ensamble.csv&#34;</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>setkeyv</span><span style=color:#eceff4>(</span>ensamble<span style=color:#eceff4>,</span> <span style=color:#88c0d0>c</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;maquina&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;proceso&#34;</span><span style=color:#eceff4>))</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>setkeyv</span><span style=color:#eceff4>(</span>nominalesEnsamble<span style=color:#eceff4>,</span> <span style=color:#88c0d0>c</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;maquina&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;proceso&#34;</span><span style=color:#eceff4>))</span>
</span></span><span style=display:flex><span>ensamble[nominalesEnsamble<span style=color:#eceff4>,</span> nominal <span style=color:#81a1c1>:=</span> nominal]
</span></span></code></pre></div><h1 id=excel>Excel<a hidden class=anchor aria-hidden=true href=#excel>#</a></h1><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span><span style=color:#88c0d0>library</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;writexl&#34;</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>library</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;readxl&#34;</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>data<span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>read_excel</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;data/data.xlsx&#34;</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>data<span style=color:#81a1c1>&lt;-</span><span style=color:#88c0d0>as.data.table</span><span style=color:#eceff4>(</span>data<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>write_xlsx</span><span style=color:#eceff4>(</span>comision<span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;exits/comisiones.xlsx&#34;</span><span style=color:#eceff4>)</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/r/>R</a></li><li><a href=http://localhost:1313/tags/ciencia-de-datos/>Ciencia De Datos</a></li><li><a href=http://localhost:1313/tags/data-science/>Data Science</a></li></ul><nav class=paginav><a class=next href=http://localhost:1313/2023/05/como-configurar-el-directorio-de-inicio-para-wsl-en-la-windows-terminal/><span class=title>Siguiente »</span><br><span>Como configurar el directorio de inicio para WSL en la windows terminal</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Mis apuntes de R on x" href="https://x.com/intent/tweet/?text=Mis%20apuntes%20de%20R&amp;url=http%3a%2f%2flocalhost%3a1313%2f2023%2f10%2fmis-apuntes-de-r%2f&amp;hashtags=R%2ccienciadedatos%2cDatascience"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Mis apuntes de R on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2f2023%2f10%2fmis-apuntes-de-r%2f&amp;title=Mis%20apuntes%20de%20R&amp;summary=Mis%20apuntes%20de%20R&amp;source=http%3a%2f%2flocalhost%3a1313%2f2023%2f10%2fmis-apuntes-de-r%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Mis apuntes de R on facebook" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2f2023%2f10%2fmis-apuntes-de-r%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Mis apuntes de R on whatsapp" href="https://api.whatsapp.com/send?text=Mis%20apuntes%20de%20R%20-%20http%3a%2f%2flocalhost%3a1313%2f2023%2f10%2fmis-apuntes-de-r%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Mis apuntes de R on telegram" href="https://telegram.me/share/url?text=Mis%20apuntes%20de%20R&amp;url=http%3a%2f%2flocalhost%3a1313%2f2023%2f10%2fmis-apuntes-de-r%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=http://localhost:1313/>ariascosb</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copiar";function s(){t.innerHTML="¡copiado!",setTimeout(()=>{t.innerHTML="copiar"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>